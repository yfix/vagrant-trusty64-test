---
- hosts: all
  sudo: yes
  vars:
    users:
      - dir: /home/vagrant
      - dir: /root
  pre_tasks:
    - name: Update apt cache if needed.
      apt: update_cache=yes cache_valid_time=3600
  tasks:
    - apt: "name={{ item }} state=installed"
      with_items:
        - git
        - wget
        - curl
        - vim
    - file: path="{{ item.dir }}/.config/mc" state=directory recurse=yes
      with_items: "{{ users }}"
    - template: src=templates/mc.ini.j2 dest="{{ item.dir }}/.config/mc/ini"
      with_items: "{{ users }}"
