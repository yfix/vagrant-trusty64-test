---
- hosts: all
  sudo: yes

  pre_tasks:
    - name: Update apt cache if needed.
      apt: update_cache=yes cache_valid_time=3600
    - name: Add ondrej repository for later versions of PHP.
      apt_repository: repo='ppa:ondrej/php5-5.6'

  tasks:
    - apt: "name={{ item }} state=installed"
      with_items:
        - git
        - wget
        - curl
        - vim
        - htop
        - iotop

  roles:
    - geerlingguy.nodejs
    - geerlingguy.ruby
    - yfix.composer
    - yfix.mc
    - yfix.memcached
    - yfix.mysql
    - yfix.nginx
    - yfix.ntp
    - yfix.php
    - yfix.php-mysql
    - yfix.php-pecl
    - yfix.php-xdebug
    - yfix.php-xhprof
    - yfix.postfix
    - yfix.security

  post_tasks: []
